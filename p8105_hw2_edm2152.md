p8105\_hw2\_edm2152
================
Eric Morris
September 25, 2018

Problem 1
---------

Reading and cleaning the data; retaining line, station, name, station latitude / longitude, routes served, entry, vending, entrance type, and ADA compliance. Converting the entry variable from character (YES vs NO) to a logical variable using ifelse.

``` r
subway_data = 
  read_csv("./data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv") %>% 
  janitor::clean_names() %>% 
  select(line:vending, - exit_only, vending, ada) %>% 
  mutate(entry = ifelse(entry == "YES", TRUE, FALSE))
```

    ## Parsed with column specification:
    ## cols(
    ##   .default = col_character(),
    ##   `Station Latitude` = col_double(),
    ##   `Station Longitude` = col_double(),
    ##   Route8 = col_integer(),
    ##   Route9 = col_integer(),
    ##   Route10 = col_integer(),
    ##   Route11 = col_integer(),
    ##   ADA = col_logical(),
    ##   `Free Crossover` = col_logical(),
    ##   `Entrance Latitude` = col_double(),
    ##   `Entrance Longitude` = col_double()
    ## )

    ## See spec(...) for full column specifications.

This dataset contains variables for the subway line (name), station name, longitude and latitude for station location, subway routes served by the station spread across columns, if the location is an entrance, the entrance type, whether or not there is a vending at the entrance, and if the entrance is ADA compliant. This dataset contains `{r} nrow(subway_data)` rows (observations) and `{r} ncol(subway_data)` columns (variables). This dataset is relatively tidy (?).

There are `{r} nrow(distinct(subway_data, line, station_name))` distinct stations in this dataset.

How many stations are ADA compliant?

``` r
distinct(subway_data, line, station_name, ada) %>% 
  count(ada)
```

    ## # A tibble: 2 x 2
    ##   ada       n
    ##   <lgl> <int>
    ## 1 FALSE   381
    ## 2 TRUE     84

There are 84 ADA compliant stations among the 465 distinct stations.

What proportion of station entrances / exits without vending allow entrance?

The proportion of station entrances/exits without vending that allow entrance is

``` r
(
  select(subway_data, entry, vending) %>% 
 filter(entry == TRUE) %>% 
  filter(vending == "NO") %>% 
  count()
/
  select(subway_data, vending) %>% 
 filter(vending == "NO") %>% 
  count()
)
```

    ##           n
    ## 1 0.3770492

Reformat data so that route number and route name are distinct variables. How many distinct stations serve the A train? Of the stations that serve the A train, how many are ADA compliant?

``` r
subway_data_reformatted = 
  gather(subway_data, key = route_number, value = route_name, route1:route11)
```

``` r
distinct(subway_data_reformatted, line, station_name, route_name) %>% 
filter(route_name == "A") %>% 
  count()
```

    ## # A tibble: 1 x 1
    ##       n
    ##   <int>
    ## 1    60

``` r
distinct(subway_data_reformatted, line, station_name, route_name, ada) %>% 
filter(route_name == "A") %>% 
  filter(ada == TRUE) %>% 
  count()
```

    ## # A tibble: 1 x 1
    ##       n
    ##   <int>
    ## 1    17

Problem 2
---------

specify the sheet in the Excel file and to omit columns containing notes (using the range argument and cell\_cols() function)

use reasonable variable names omit rows that do not include dumpster-specific data rounds the number of sports balls to the nearest integer and converts the result to an integer variable (using as.integer)

``` r
mrtrash_data = 
  readxl::read_excel("./data/HealthyHarborWaterWheelTotals2017-9-26.xlsx", sheet = "Mr. Trash Wheel", range = "A2:N258") %>% 
  janitor::clean_names()
```
